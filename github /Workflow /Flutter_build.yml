  - name: Set up Java (required by Android)
    uses: actions/setup-java@v4
    with:
      distribution: temurin
      java-version: '11'

  - name: Set up Flutter
    uses: subosito/flutter-action@v2
    with:
      flutter-version: '3.13.0'

  - name: Install dependencies
    run: flutter pub get

  - name: Build release APK
    run: flutter build apk --release

  - name: Build release AAB
    run: flutter build appbundle --release

  - name: Upload APK artifact
    uses: actions/upload-artifact@v3
    with:
      name: app-release-apk
      path: build/app/outputs/flutter-apk/app-release.apk

  - name: Upload AAB artifact
    uses: actions/upload-artifact@v3
    with:
      name: app-release-aab
      path: build/app/outputs/bundle/release/app-release.aab
